<!--
   Copyright 2015 Landmark Replug Team

   Licensed under the Apache License, Version 2.0 (the "License");
   you may not use this file except in compliance with the License.
   You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

   Unless required by applicable law or agreed to in writing, software
   distributed under the License is distributed on an "AS IS" BASIS,
   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   See the License for the specific language governing permissions and
   limitations under the License.

-->
<ion-modal-view>
  <ion-header-bar class="bar-header bar-energized">
    <h1 class="title">Login</h1>
    <div class="buttons">
      <button class="button button-clear" ng-click="closeLogin()">Close</button>
    </div>
  </ion-header-bar>
  <ion-content>
      
      <div ng-show="loader" class="replug-loader">
      <ion-spinner icon="spiral"></ion-spinner>
      <p style="margin-left: 10px; color: #4b1514; font-weight: bold">
            Please wait... Signing you in
      </p>
      </div>
      
      <div  ng-show="errState" class="replug-loader">
      <div class="card" style="background: #ff0000;">
       <div class="item item-text-wrap" >
           {{errMsg}}<br><br>
           <button style="margin-top: 5px" class="button button-clear button-energized" ng-click="tryAgain()">Try Again</button>
      </div>
      </div>
      </div>
      <div ng-show="form">
      
      <img style="text-align: center; margin-left: 140px" src="./img/ionic.png">
    <form name="Login-ForgottenPassword">
        <div class="list list-inset">
            <!-- Controls Sign In -->
            <div ng-show="logIn">
            <label class="item item-input">
            <input type="text" placeholder="Username" ng-model="user.username">
          </label>
          <label class="item item-input ">
            <input type="password" placeholder="Password" ng-model="user.password">
            </label>
            </div>
                
            <!-- Controls Forgot Pass -->
          <div ng-show="pwd">
            <label class="item item-input ">
            <input type="text" placeholder="Username or Email" ng-model="loginData.email">
          </label>
            </div>
            <!-- Controls Sign In -->
        <label class="item" ng-show="logIn">
          <button style="margin-top: 15px" class="button button-block button-energized" ng-click="doLogin(user)" type="submit">Log in</button>
        </label>
            
            <!-- Controls Forgot Pass -->
        <label class="item" ng-show="pwd">
          <button style="margin-top: 15px" class="button button-block button-energized" ng-click="doForgot(user)" type="submit">Reset Password</button>
        </label>
            <!-- Controls Sign In -->
            <button style="margin-top: 5px" ng-show="logIn" class="button button-clear button-energized" ng-click="forgotPwd()">Reset Forgotten Password</button>
            <!-- Controls Forgot Pass -->
            <button style="margin-top: 5px" ng-show="pwd" class="button button-clear button-energized" ng-click="newLogin()">Sign In with Existing Account</button>
      </div>
    </form>
      </div>
      
  </ion-content>
</ion-modal-view>
